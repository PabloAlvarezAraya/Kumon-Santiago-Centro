<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>HTML5 - Geolocation</title>
	<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD8hCt7nIsQ9cqL5es5_P7WjvIHKBzx_3U&callback=fn_ok" async defer></script>
</head>
<body>
	<h1>Mapa Interactivo</h1>
	<div id="mapa" style="height: 500px;">
		--ACÁ VA EL MAPA--
	</div>
	<script type="text/javascript">
		//NAMESPACE --> google.maps.algo
		var divMapa = document.getElementById('mapa');
		navigator.geolocation.getCurrentPosition ( fn_ok, fn_mal );
			function fn_mal(){}
			function fn_ok( rta ){
				var lat = rta.coords.latitude;
				var lon = rta.coords.longitude;
				
				var glatLon new google.maps.LatLng( lat, lon );
				var objConfig = {
					//prop = valor,
					//o_prop: valor
					zoom : 17,
					center: glatLon
				}
				var gMapa = new google.maps.Map(idMapa, objConfig);
				var objConfigMarker = {
					position: glatLon,
					map: gMapa,
					title: 'Usted está acá'
				}
				
				var gMarker = new google.maps.Marker( objConfigMarker );
				var objInformacion = {
					address: 'Corrientes 2049,Balbanera,Buenos Aires'
				}
				//var gCoder = new google.maps.Geocoder();
				gCoder.geocode( objInformacion, fn_coder );
					
				function fn_coder( datos ){
					var coordenadas = datos[0].geometry.location; //obj latLong
					var config = {
						map: gMapa,
						position: coordenadas,
						title: 'Escuela DaVinci'
					}
					var gMarkerDV = new google.maps.Marker( config )
				}
			}
	</script>
</body>
</html>
